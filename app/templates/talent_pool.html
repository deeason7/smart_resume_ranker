{% extends 'base.html' %}
{% block title %}Talent Pool{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
  <h2>Talent Pool</h2>
  <a href="{{ url_for('recruiter.dashboard') }}" class="btn btn-outline-secondary">&larr; Back to Dashboard</a>
</div>

<div class="card mb-4">
  <div class="card-body">
    <h5 class="card-title">Upload Resumes</h5>
    <p class="card-text">Add new candidates to your talent pool by uploading one or more resume files (PDF or DOCX).</p>
    <form action="{{ url_for('recruiter.talent_pool') }}" method="post" enctype="multipart/form-data">
      <div class="mb-3">
        <input type="file" class="form-control" name="resumes" multiple required>
      </div>
      <button type="submit" class="btn btn-primary">Upload to Pool</button>
    </form>
  </div>
</div>

<h4 class="mb-3">Candidates in Pool</h4>
<table class="table table-hover">
  <thead>
    <tr>
      <th>Name</th>
      <th>Email</th>
      <th>Date Added</th>
    </tr>
  </thead>
  <tbody>
    {% for resume in resumes %}
      <tr>
        <td>{{ resume.extracted_name or 'N/A' }}</td>
        <td>{{ resume.extracted_email or 'N/A' }}</td>
        <td>{{ resume.date_uploaded.strftime('%Y-%m-%d') }}</td>
      </tr>
    {% else %}
      <tr>
        <td colspan="3" class="text-center">Your talent pool is empty. Upload resumes to get started.</td>
      </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}